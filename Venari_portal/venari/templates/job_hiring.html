{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
  <link rel="stylesheet" type="text/css" href="{% static 'css/cjobhiring1.css' %}">
  <link rel="shortcut icon" href="{% static 'images/favicon.ico' %}" type="image/x-icon">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" />
</head>
<style>

</style>
<body>
  
  <!--modal, 
<div class="modal fade" id="applyModal" tabindex="-1" aria-labelledby="applyModalLabel" aria-hidden="true">
  <div class="modal-dialog">
      <div class="modal-content">
          <div class="modal-header">
              <h5 class="modal-title" id="applyModalLabel">Job Details</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
              <img src="Jollibee-logo-F5F59B0DCA-seeklogo.com.png" class="img-fluid rounded-circle" alt="Logo" style="width: 90px; height: 90px; object-fit: cover">
          <div class="modal-body" style="max-height: 300px; overflow-y: auto;">
              <p>
                Looking for a brilliant Art director + Designer who will convert my concepts into a brochure design. Designer should be able to understand the tech industry parlance as well as worked in marketing space. They would need to create original artwork for the planned brochure as well as layout the content. Multiple versions need to be provided. Deadline is short. So people should be able to work under time crunch while producing high quality work. Budget flexibility not a problem for the right candidate.
                People who apply need to use the word "BRILLIANT" in their response to make sure they read the whole post while applying. They need to provide cases where the client came with a sketch and how they converted into a finished product.
              </p>
          </div>
          <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
          </div>
      </div>
  </div>
</div>
see more-->

<!--Header-->
<div class="container-xl">
  <div class="col-12">
    <div class="card card-pink mt-3 ">
      <div class="row mt-2 justify-content-center">
        <h5 class="card-title text-center">Jobs you might like</h5>
        <div class="col-md-10 mt-3">
          <label for="jobSearch"></label>
          <div class="input-group mb-0">
            <input type="text" class="form-control" id="jobSearch" placeholder="Search job here..." aria-label="Search" aria-describedby="basic-addon2">
          </div>
        </div>
     <!-- Dropdown with Checkbox Buttons Column -->


        <!-- Search Button Column -->
        <div class="col-md-2 mt-3">
          <label></label>
          <button class="btn btn-outline-secondary" type="button" onclick= "search_job()">Search</button>
        </div>

     <div class="col-12">
        <div class="row">
          <!-- Dropdown for Listed Any Time -->
          <div class="col-md-3 mt-4">
            <div class="form-group">
              <div class="dropdown">
                  <button class="btn btn-outline btn-block dropdown-toggle" type="button" id="listedAnyTimeDropdown" data-bs-toggle="dropdown" aria-expanded="false">
                      Time Posted
                  </button>
                  <div class="dropdown-menu" aria-labelledby="listedAnyTimeDropdown">
                      <div class="form-check">
                          <input class="form-check-input" type="radio" name="timeOption" value="recentlyPosted" id="recentlyPostedRadio">
                          <label class="form-check-label" for="recentlyPostedRadio">Recently Posted</label>
                      </div>
                      <div class="form-check">
                          <input class="form-check-input" type="radio" name="timeOption" value="last7Days" id="last7DaysRadio">
                          <label class="form-check-label" for="last7DaysRadio">Last 7 days</label>
                      </div>
                      <div class="form-check">
                          <input class="form-check-input" type="radio" name="timeOption" value="aWeekAgo" id="aWeekAgoRadio">
                          <label class="form-check-label" for="aWeekAgoRadio">A week ago</label>
                      </div>
                      <!-- Add your options for Listed Any Time -->
                  </div>
              </div>
          </div>
          
          </div>
          
          <!-- Search Bar Column -->
          <div class="col-md-3 mt-4">
            <div class="form-group">
              <div class="dropdown">
                  <button class="btn btn-outline btn-block dropdown-toggle" type="button" id="employmentTypeDropdown" data-bs-toggle="dropdown" aria-expanded="false">
                      Employment Type
                  </button>
                  <div class="dropdown-menu" aria-labelledby="employmentTypeDropdown">
                      <div class="form-check">
                          <input class="form-check-input" type="radio" name="employmentType" value="Full-Time" id="fullTimeRadio">
                          <label class="form-check-label" for="fullTimeRadio">Full-time</label>
                      </div>
                      <div class="form-check">
                          <input class="form-check-input" type="radio" name="employmentType" value="Part-Time" id="partTimeRadio">
                          <label class="form-check-label" for="partTimeRadio">Part-time</label>
                      </div>
                      <!-- Add your options for Employment Type -->
                  </div>
              </div>
          </div>
          
          </div>
          
          <!-- Dropdown for Salary Grade -->
          <div class="col-md-3 mt-4">
            <div class="form-group">
              <div class="dropdown">
                  <button class="btn btn-outline btn-block dropdown-toggle" type="button" id="employmentTypeDropdown" data-bs-toggle="dropdown" aria-expanded="false">
                      Salary Grade
                  </button>
                  <div class="dropdown-menu" aria-labelledby="employmentTypeDropdown">
                      <div class="form-check">
                          <input class="form-check-input" type="radio" name="employmentType" value="Full-Time" id="fullTimeRadio">
                          <label class="form-check-label" for="fullTimeRadio">350</label>
                      </div>
                      <div class="form-check">
                          <input class="form-check-input" type="radio" name="employmentType" value="Part-Time" id="partTimeRadio">
                          <label class="form-check-label" for="partTimeRadio">1k</label>
                      </div>
                      <div class="form-check">
                        <input class="form-check-input" type="radio" name="employmentType" value="Part-Time" id="partTimeRadio">
                        <label class="form-check-label" for="partTimeRadio">5k</label>
                    </div>
                    <div class="form-check">
                      <input class="form-check-input" type="radio" name="employmentType" value="Part-Time" id="partTimeRadio">
                      <label class="form-check-label" for="partTimeRadio">10k</label>
                  </div>
                  <div class="form-check">
                    <input class="form-check-input" type="radio" name="employmentType" value="Part-Time" id="partTimeRadio">
                    <label class="form-check-label" for="partTimeRadio">20k+</label>
                </div>
                      <!-- Add your options for Employment Type -->
                  </div>
              </div>
          </div>
        </div>
        
          <div class="col-md-3 mt-4">
            <div class="form-group">
              <div class="dropdown-country">
                <button class="btn btn-outline btn-block dropdown-toggle" type="button" id="employmentTypeDropdown" data-bs-toggle="dropdown" aria-expanded="false">
                  Employment Type
                </button>
                <div class="dropdown-menu" aria-labelledby="employmentTypeDropdown">
                  <div class="select_option">
                    <select class="form-select country" aria-label="Default select example" onchange="loadStates()">
                        <option selected>Select Country</option>
                    </select>
                    <select class="form-select state" aria-label="Default select example" onchange="loadCities()">
                        <option selected>Select State</option>
                    </select>
                    <select class="form-select city" aria-label="Default select example">
                        <option selected>Select City</option>
                    </select>
                </div>
                </div>
              </div>
            </div>
          </div>

          
        </div>
      </div>
        </div>
      </div>
      
      

      <!-- Tags bar goes here -->
      <div class="tags-card-body">
    <div class="tags_bar">
      <div class="tag">
        <i class="fas fa-times"></i>
        <span>Programming</span>
      </div>
      <div class="tag">
        <i class="fas fa-times"></i>
        <span>Design</span>
      </div>
      <div class="tag">
        <i class="fas fa-times"></i>
        <span>PHP</span>
      </div>
      <div class="tag">
        <i class="fas fa-times"></i>
        <span>JavaScript</span>
      </div>
    </div>
      </div>
          
      <div class="text-end mb-3 mt-3">
        <p>There are more than <span>400</span> Jobs available</p>
      </div>
<hr>
<!--Job Listings-->
    <div id="jobListings" class="container-xl">
        <div class="row row-cols-1 row-cols-md-3 mb-2 mt-2 g-3 py-0">
          {% for job in jobs %}
          {% if job.status == "Activate" %} 
          <div class="col-md-4 mb-4">
            <div class="custom-card">
              <div class="custom-card-body">
                <div class="d-flex justify-content-between align-items-center">
                  <div class="mt-1 mb-2">
                    <img src="{{job.company.company_logo.url}}" class="img-fluid rounded-circle" alt="Logo" style="width: 90px; height: 90px; object-fit: cover">
                  </div>
                  <div class="bookmark-heart mt-0 mb-0">
                    <a href="#" onclick="handleBookmarkClick(event, {{ job.id }})">
                      <svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" fill="currentColor" class="bi bi-bookmark-plus" viewBox="0 0 20 20">
                        <path d="M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v13.5a.5.5 0 0 1-.777.416L8 13.101l-5.223 2.815A.5.5 0 0 1 2 15.5zm2-1a1 1 0 0 0-1 1v12.566l4.723-2.482a.5.5 0 0 1 .554 0L13 14.566V2a1 1 0 0 0-1-1z"/>
                        <path d="M8 4a.5.5 0 0 1 .5.5V6H10a.5.5 0 0 1 0 1H8.5v1.5a.5.5 0 0 1-1 0V7H6a.5.5 0 0 1 0-1h1.5V4.5A.5.5 0 0 1 8 4"/>
                      </svg>
                    </a>
                    <a href="#" onclick="handleBookmarkClick(event)">
                      <svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" fill="currentColor" class="bi bi-heart-half" viewBox="0 0 20 20">
                        <path d="M8 2.748v11.047c3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143c.06.055.119.112.176.171a3.12 3.12 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15"/>
                      </svg>
                    </a>
                  </div>
                </div>
                <h5 class="custom-card-title">{{job.title}}</h5>
                <h5 class="custom-card-description">{{job.company.company_name}}</h5>
                <div class="custom-icons-description mb-2">
                  <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" fill="currentColor" class="bi bi-clock" viewBox="0 0 16 16">
                    <path d="M8 3.5a.5.5 0 0 0-1 0V9a.5.5 0 0 0 .252.434l3.5 2a.5.5 0 0 0 .496-.868L8 8.71z"/>
                    <path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16m7-8A7 7 0 1 1 1 8a7 7 0 0 1 14 0"/>
                  </svg>
                  <span class="custom-post-time">{{job.creation_date}}</span>
                </div>
                <div class="custom-icons-description mb-2">
                  <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" fill="currentColor" class="bi bi-geo-alt" viewBox="0 0 16 16">
                    <path d="M12.166 8.94c-.524 1.062-1.234 2.12-1.96 3.07A31.493 31.493 0 0 1 8 14.58a31.481 31.481 0 0 1-2.206-2.57c-.726-.95-1.436-2.008-1.96-3.07C3.304 7.867 3 6.862 3 6a5 5 0 0 1 10 0c0 .862-.305 1.867-.834 2.94M8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10"/>
                    <path d="M8 8a2 2 0 1 1 0-4 2 2 0 0 1 0 4m0 1a3 3 0 1 0 0-6 3 3 0 0 0 0 6"/>
                  </svg>
                  <span class="custom-post-time">{{job.location}}</span>
                </div>
                <div class="custom-description">
                  <p class="card-description-justify-content-left"><strong>Job Type: </strong>{{job.jobtype}}</p>
                  <p class="card-description-justify-content-left"><strong>Job Skills: </strong>{{job.skills}}</p>
                  <p class="card-description-justify-content-left"><strong>Salary: </strong>{{job.salary}}</p>
                </div>
              </div>
              <div class="mx-4 mb-4 mt-1 d-flex justify-content-left">
                <button class="btn btn-primary custom-btn" style="width:300px; margin-right: 10px; margin-top: 0; border-radius: 10px; " onclick="jobseeker_apply(event, {{ job.id }})">Apply Now</button>
                <button class="btn btn-outline custom-bton" data-bs-toggle="modal" data-bs-target="#applyModal" style="width:300px; margin-top: 0; border-radius:10px;" >See More</button>
              </div>
            </div>
         </div>
             {% endif %}
        {% endfor %}
    </div>
    </div>
</div>

<footer class="footer">
  <div class="container-xl">
    <div class="row">
      <div class="footer-col">
        <h4>Venari</h4>
        <ul>
          <li><a href="#">about us</a></li>
          <li><a href="#">our services</a></li>
        </ul>
      </div>
      <div class="footer-col">
        <h4>Employers</h4>
        <ul>
          <li><a href="#">Customer Service</a></li>
          <li><a href="#">Hiring Advice</a></li>
        </ul>
      </div>
      <div class="footer-col">
        <h4>Contacts</h4>
        <ul>
          <li><a href="#">Contact Us</a></li>
          <li><a href="#">Help Center</a></li>
        </ul>
      </div>
      <div class="footer-col">
        <h4>follow us</h4>
        <div class="social-links">
          <a href="#"><i class="fab fa-facebook-f"></i></a>
          <a href="#"><i class="fab fa-twitter"></i></a>
          <a href="#"><i class="fab fa-instagram"></i></a>
          <a href="#"><i class="fab fa-linkedin-in"></i></a>
        </div>
      </div>
    </div>
  </div>
</footer>

<!--Pages at bottom
    <nav aria-label="Page navigation example">
      <ul class="pagination justify-content-center">
        <li class="page-item disabled">
          <a class="page-link">Previous</a>
        </li>
        <li class="page-item"><a class="page-link" href="#">1</a></li>
        <li class="page-item"><a class="page-link" href="#">2</a></li>
        <li class="page-item"><a class="page-link" href="#">3</a></li>
        <li class="page-item">
          <a class="page-link" href="#">Next</a>
        </li>
      </ul>
    </nav>-->
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
    integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJj8iiIbdFJGpqzjE3ccFJS..." crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
    integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
    crossorigin="anonymous"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/5.0.2/js/bootstrap.min.js"
    integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
    crossorigin="anonymous"></script>
<script src="script.js"></script>
<script>
  
    function handleBookmarkClick(event) {
        event.preventDefault();
        alert('Bookmark clicked!');
    }

</script>
    
    <script>
      function handleBookmarkClick(event, jobId) {
        event.preventDefault();
        
        // You may want to use AJAX to send the data to the backend
        // Here, I'm using the Fetch API for simplicity
        fetch(`/bookmark/${jobId}/`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
                'X-CSRFToken': getCookie('csrftoken'),  // Include CSRF token
            },
            // You can include additional data in the body if needed
            body: JSON.stringify({ job_id: jobId }),
        })
        .then(response => response.json())
        .then(data => {
            // Handle the response as needed
            if (data.success) {
                alert('Job bookmarked!');
            } else {
                alert('Failed to bookmark job.');
            }
        })
        .catch(error => console.error('Error:', error));
    }
    function jobseeker_apply(event, jobId) {
      event.preventDefault();
    
      // You may want to use AJAX to send the data to the backend
      // Here, I'm using the Fetch API for simplicity
      fetch(`/jobseeker_apply/${jobId}/`, {
          method: 'POST',
          headers: {
              'Content-Type': 'application/json',
              'X-CSRFToken': getCookie('csrftoken'),  // Include CSRF token
          },
          // You can include additional data in the body if needed
          body: JSON.stringify({ job_id: jobId }),
      })
      .then(response => response.json())
      .then(data => {
          // Handle the response as needed
          if (data.success) {
              alert('Apply!');
          } else {
              if (data.error === 'Already applied for this job') {
                  alert('You have already applied for this job.');
              } else {
                  alert('Failed to apply for the job.');
              }
          }
      })
      .catch(error => console.error('Error:', error));
    }
    
    
    // Helper function to get CSRF token from cookies
    function getCookie(name) {
        var cookieValue = null;
        if (document.cookie && document.cookie !== '') {
            var cookies = document.cookie.split(';');
            for (var i = 0; i < cookies.length; i++) {
                var cookie = cookies[i].trim();
                // Check if this cookie string begins with the name we want
                if (cookie.substring(0, name.length + 1) === (name + '=')) {
                    cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
                    break;
                }
            }
        }
        return cookieValue;
    }
    </script>

<!--Countries-Cities-->
<script>
  var config = {
    cUrl: 'https://api.countrystatecity.in/v1/countries',
    ckey: 'NHhvOEcyWk50N2Vna3VFTE00bFp3MjFKR0ZEOUhkZlg4RTk1MlJlaA=='
}


var countrySelect = document.querySelector('.country'),
    stateSelect = document.querySelector('.state'),
    citySelect = document.querySelector('.city')


function loadCountries() {

    let apiEndPoint = config.cUrl

    fetch(apiEndPoint, {headers: {"X-CSCAPI-KEY": config.ckey}})
    .then(Response => Response.json())
    .then(data => {
        // console.log(data);

        data.forEach(country => {
            const option = document.createElement('option')
            option.value = country.iso2
            option.textContent = country.name 
            countrySelect.appendChild(option)
        })
    })
    .catch(error => console.error('Error loading countries:', error))

    stateSelect.disabled = true
    citySelect.disabled = true
    stateSelect.style.pointerEvents = 'none'
    citySelect.style.pointerEvents = 'none'
}


function loadStates() {
    stateSelect.disabled = false
    citySelect.disabled = true
    stateSelect.style.pointerEvents = 'auto'
    citySelect.style.pointerEvents = 'none'

    const selectedCountryCode = countrySelect.value
    // console.log(selectedCountryCode);
    stateSelect.innerHTML = '<option value="">Select State</option>' // for clearing the existing states
    citySelect.innerHTML = '<option value="">Select City</option>' // Clear existing city options

    fetch(`${config.cUrl}/${selectedCountryCode}/states`, {headers: {"X-CSCAPI-KEY": config.ckey}})
    .then(response => response.json())
    .then(data => {
        // console.log(data);

        data.forEach(state => {
            const option = document.createElement('option')
            option.value = state.iso2
            option.textContent = state.name 
            stateSelect.appendChild(option)
        })
    })
    .catch(error => console.error('Error loading countries:', error))
}
function getCookie(name) {
  const value = `; ${document.cookie}`;
  const parts = value.split(`; ${name}=`);
  if (parts.length === 2) return parts.pop().split(';').shift();
}
document.querySelectorAll('input[name="employmentType"]').forEach(function(radio) {
  radio.addEventListener('change', function() {
    search_job();
  });
});

document.querySelectorAll('input[name="timeOption"]').forEach(function(radio) {
  radio.addEventListener('change', function() {
      search_job();
  });
});

function search_job() {
  var searchJob = document.getElementById('jobSearch').value;
  var employmentType = document.querySelector('input[name="employmentType"]:checked');
  var employmentTypeValue = employmentType ? employmentType.value : null;

  var timeOption = document.querySelector('input[name="timeOption"]:checked');
  var timeOptionValue = timeOption ? timeOption.value : null;
  fetch('/search_job/', {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json',
      'X-CSRFToken': getCookie('csrftoken'),
    },
    body: JSON.stringify({ search: searchJob,  employment_type: employmentTypeValue,  time_option: timeOptionValue }),
  })
  .then(response => {
    if (!response.ok) {
      throw new Error('Network response was not ok');
    }
    return response.json();
  })
  .then(data => {

    console.log(data); 

    const jobListings = data.jobs;

    const jobListingsElement = document.getElementById('jobListings');

    jobListingsElement.innerHTML = '';

    jobListings.forEach(job => {
      jobListingsElement.innerHTML += `
      <div id="jobListings" class="container-xl">
        <div class="row row-cols-1 row-cols-md-3 mb-2 mt-2 g-3 py-0">
          <div class="col-md-4 mb-4">
            <div class="custom-card">
              <div class="custom-card-body">
                <div class="d-flex justify-content-between align-items-center">
                  <div class="mt-1 mb-2">
                    <img src="${job.company_logo_url}" class="img-fluid rounded-circle" alt="Logo" style="width: 90px; height: 90px; object-fit: cover">
                  </div>
                  <div class="bookmark-heart mt-0 mb-0">
                    <a href="#" onclick="handleBookmarkClick(event, ${ job.id })">
                      <svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" fill="currentColor" class="bi bi-bookmark-plus" viewBox="0 0 20 20">
                        <path d="M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v13.5a.5.5 0 0 1-.777.416L8 13.101l-5.223 2.815A.5.5 0 0 1 2 15.5zm2-1a1 1 0 0 0-1 1v12.566l4.723-2.482a.5.5 0 0 1 .554 0L13 14.566V2a1 1 0 0 0-1-1z"/>
                        <path d="M8 4a.5.5 0 0 1 .5.5V6H10a.5.5 0 0 1 0 1H8.5v1.5a.5.5 0 0 1-1 0V7H6a.5.5 0 0 1 0-1h1.5V4.5A.5.5 0 0 1 8 4"/>
                      </svg>
                    </a>
                    <a href="#" onclick="handleBookmarkClick(event)">
                      <svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" fill="currentColor" class="bi bi-heart-half" viewBox="0 0 20 20">
                        <path d="M8 2.748v11.047c3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143c.06.055.119.112.176.171a3.12 3.12 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15"/>
                      </svg>
                    </a>
                  </div>
                </div>
                <h5 class="custom-card-title">${job.title}</h5>
                <h5 class="custom-card-description">${job.company_name}</h5>
                <div class="custom-icons-description mb-2">
                  <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" fill="currentColor" class="bi bi-clock" viewBox="0 0 16 16">
                    <path d="M8 3.5a.5.5 0 0 0-1 0V9a.5.5 0 0 0 .252.434l3.5 2a.5.5 0 0 0 .496-.868L8 8.71z"/>
                    <path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16m7-8A7 7 0 1 1 1 8a7 7 0 0 1 14 0"/>
                  </svg>
                  <span class="custom-post-time">${job.creation_date}</span>
                </div>
                <div class="custom-icons-description mb-2">
                  <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" fill="currentColor" class="bi bi-geo-alt" viewBox="0 0 16 16">
                    <path d="M12.166 8.94c-.524 1.062-1.234 2.12-1.96 3.07A31.493 31.493 0 0 1 8 14.58a31.481 31.481 0 0 1-2.206-2.57c-.726-.95-1.436-2.008-1.96-3.07C3.304 7.867 3 6.862 3 6a5 5 0 0 1 10 0c0 .862-.305 1.867-.834 2.94M8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10"/>
                    <path d="M8 8a2 2 0 1 1 0-4 2 2 0 0 1 0 4m0 1a3 3 0 1 0 0-6 3 3 0 0 0 0 6"/>
                  </svg>
                  <span class="custom-post-time">${job.location}</span>
                </div>
                <div class="custom-description">
                  <p class="card-description-justify-content-left"><strong>Job Type: </strong>${job.jobtype}</p>
                  <p class="card-description-justify-content-left"><strong>Job Skills: </strong>${job.skills}</p>
                  <p class="card-description-justify-content-left"><strong>Salary: </strong>${job.salary}</p>
                </div>
              </div>
              <div class="mx-4 mb-4 mt-1 d-flex justify-content-left">
                <button class="btn btn-primary custom-btn" style="width:300px; margin-right: 10px; margin-top: 0; border-radius: 10px; " onclick="jobseeker_apply(event, ${ job.id })">Apply Now</button>
                <button class="btn btn-outline custom-bton" data-bs-toggle="modal" data-bs-target="#applyModal" style="width:300px; margin-top: 0; border-radius:10px;" >See More</button>
              </div>
            </div>
         </div>
    </div>
    </div>
</div>`;
    });

  })
  .catch(error => console.error('Error searching for jobs:', error));
}




function loadCities() {
    citySelect.disabled = false
    citySelect.style.pointerEvents = 'auto'

    const selectedCountryCode = countrySelect.value
    const selectedStateCode = stateSelect.value
    // console.log(selectedCountryCode, selectedStateCode);

    citySelect.innerHTML = '<option value="">Select City</option>' // Clear existing city options

    fetch(`${config.cUrl}/${selectedCountryCode}/states/${selectedStateCode}/cities`, {headers: {"X-CSCAPI-KEY": config.ckey}})
    .then(response => response.json())
    .then(data => {
        // console.log(data);

        data.forEach(city => {
            const option = document.createElement('option')
            option.value = city.iso2
            option.textContent = city.name 
            citySelect.appendChild(option)
        })
    })
}

window.onload = loadCountries

</script>
</body>

</html>